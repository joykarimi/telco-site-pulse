import{b as c,aj as m,j as e,L as n,h as t,A as o,o as x,ak as h}from"./index-BGj3ccG0.js";import{r as p}from"./recharts-D6sLb6Nn.js";import{C as u,a as f,b as j,d as N,c as g}from"./card-BiC0Y-bv.js";import{z as b,B as l,F as y}from"./lucide-1LV0pfLj.js";import{f as w}from"./format-Bvp8TM3S.js";import"./firebase-DJ2aAbxa.js";const v={info:e.jsx(l,{className:"h-5 w-5 text-blue-500"}),success:e.jsx(y,{className:"h-5 w-5 text-green-500"}),error:e.jsx(l,{className:"h-5 w-5 text-red-500"})};function E(){const{user:r}=c(),{notifications:a,isLoading:d,markAllAsRead:i}=m(r==null?void 0:r.uid);return p.useEffect(()=>{a.some(s=>!s.isRead)&&i()},[a,i]),e.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[e.jsx("div",{className:"flex items-center justify-between space-y-2",children:e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Notifications"})}),e.jsxs(u,{className:"shadow-lg border-0",children:[e.jsxs(f,{children:[e.jsx(j,{children:"All Notifications"}),e.jsx(N,{children:"A complete log of all your notifications, from important alerts to gentle reminders."})]}),e.jsx(g,{className:"space-y-4",children:d?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a.length===0?e.jsxs("div",{className:"text-center py-20 px-6",children:[e.jsx(b,{className:"mx-auto h-16 w-16 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"You're all caught up!"}),e.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"You have no new notifications. When you do, they will appear here."})]}):e.jsx("ul",{className:"divide-y divide-border -mx-6",children:a.map(s=>e.jsx("li",{children:e.jsx(n,{to:s.link||"#",className:t("block p-6 transition-colors group",!s.isRead&&"bg-primary/5",s.link&&"hover:bg-muted/50"),children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("span",{className:t("h-2 w-2 rounded-full mt-2.5",s.isRead?"bg-transparent":"bg-primary")}),e.jsx(o,{className:t("h-10 w-10 transition-transform duration-300 group-hover:scale-110",s.isRead?"bg-muted":"bg-primary/10"),children:e.jsx(x,{children:v[s.type]||e.jsx(l,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-base font-medium leading-tight",children:s.message}),e.jsx("p",{className:"text-sm text-muted-foreground",title:w(new Date(s.timestamp),"PPP p"),children:h(new Date(s.timestamp),{addSuffix:!0})})]})]})})},s.id))})})]})]})}export{E as default};
